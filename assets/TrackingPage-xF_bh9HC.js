import{h as Se,c as k,a as ye,m as Ce,g as xe,o as Te,t as r,i as e,b as v,d as S,n as z,S as O,F as ne,s as re,e as De}from"./index-BoXZK6gH.js";import{t as p}from"./tracking-D0wmAW6E.js";import{s as Ie}from"./shipping-BOhOEASY.js";var we=r('<div class="tracking-card tracking-card-sml"><div class=tracking-header><div class=tracking-number><span class=tracking-label></span><span class=tracking-id></span></div><div class=tracking-status><span class=status-icon></span><span class=status-text style=color:#6b7280></span></div></div><div class=tracking-info><div class=info-item><span class=info-label>:</span><span class=info-value></span></div><div class=info-item><span class=info-label>:</span><span class=info-value></span></div><div class=info-item><span class=info-label>:</span><span class=info-value></span></div></div><div class=progress-bar><div class=progress-fill></div></div><div class=tracking-meta><span class=days-transit> </span><span class=carrier>'),Ee=r('<img alt="Delivery confirmation photo"class=delivery-image>'),Pe=r('<div class=image-modal><div class=modal-content><button class=close-button>Ã—</button><img alt="Delivery confirmation photo - full size"class=full-image><div class=modal-info><h3>Delivery Confirmation</h3><p>Delivered to: Cliente'),Le=r('<div class=tracking-detail><div class=detail-header><button class=back-btn>â† </button><div class=detail-title><h2></h2><div class=detail-status><span class=status-icon></span><span class=status-text style=color:#6b7280></span></div></div></div><div class=detail-overview><div class=overview-card><h3></h3><div class style=display:flex><div class="detail-grid minW"><div class=detail-item><span class=detail-label></span><span class=detail-value></span></div><div class=detail-item><span class=detail-label></span><span class=detail-value></span></div><div class=detail-item><span class=detail-label></span><span class=detail-value></span></div><div class=detail-item><span class=detail-label></span><span class=detail-value></span></div></div></div></div></div><div class=timeline-section><h3></h3><div class=timeline>'),Be=r("<div class=delivery-image>"),Fe=r("<div class=timeline-item><div class=timeline-marker><span class=timeline-icon></span></div><div class=timeline-content><div class=timeline-header><span class=timeline-status style=color:#6b7280></span><span class=timeline-date></span></div><div class=timeline-location></div><div class=timeline-description>"),Ne=r("<div class=timeline-line>"),qe=r("<div class=section-header><h2 class=section-title></h2><p class=section-subtitle>"),ze=r("<div class=search-section><div class=search-container><div class=search-input-wrapper><span class=search-icon>ğŸ“¦</span><input type=text class=search-input><button class=search-btn>"),Oe=r("<div class=tracking-grid>"),Qe=r("<div class=recent-shipments><h3 class=subsection-title>"),Ue=r("<div class=tracking-section>"),je=r("<div class=no-results><div class=no-results-icon>ğŸ“­</div><h3 class=no-results-title></h3><p class=no-results-subtitle>");function Ae(){const{t:s}=Se(),[Q,G]=k(""),[H,Ke]=ye(),[J,X]=k(null),[Y,ce]=k([]),[Me,Z]=k(!1),{trackShipment:de}=Ce(),[oe,U]=k(!1),[Re,ee]=k(!0),ue=xe(),ve=()=>{ee(!1),Z(!1)},ge=()=>{ee(!1),Z(!0)},me=async i=>{p?.hasDeliveryProof(i)&&(i.deliveryProofBlob="https://qvamarkets.s3.us-east-2.amazonaws.com/V2_images/7258/"+i?.proofOfDelivery),X(i)},ie=async()=>{const i=Q().trim();if(!i)return;ue("/tracking?id="+i,{replace:!0});const a=await de(i);a&&ce(a)},pe=i=>{i.key};Te(()=>{H?.id&&(G(H?.id),ie())});const $e=({tracking:i})=>{const a=p.getStatusInfo(i.status),d=p.getDaysInTransit(i.timeline[0]?.timestamp);return(()=>{var l=we(),o=l.firstChild,n=o.firstChild,u=n.firstChild,c=u.nextSibling,$=n.nextSibling,g=$.firstChild,j=g.nextSibling,y=o.nextSibling,D=y.firstChild,h=D.firstChild,I=h.firstChild,A=h.nextSibling,C=D.nextSibling,f=C.firstChild,K=f.firstChild,w=f.nextSibling,E=C.nextSibling,x=E.firstChild,P=x.firstChild,L=x.nextSibling,B=y.nextSibling,M=B.firstChild,F=B.nextSibling,_=F.firstChild,R=_.firstChild,N=_.nextSibling;return l.$$click=()=>me(i),e(u,()=>s("tracking.trackingNumber")||"Tracking #"),e(c,()=>i.trackingNumber),e(g,()=>a?.icon),e(j,()=>s(`tracking.statuses.${i?.status}`)||i.status),e(h,()=>s("tracking.destination")||"Destination",I),e(A,()=>i?.destination),e(f,()=>s("tracking.type")||"Type",K),e(w,()=>i?.shipmentType),e(x,()=>s("tracking.estimated")||"Estimated",P),e(L,()=>i?.estimatedDelivery),e(_,d,R),e(_,()=>s("tracking.daysInTransit")||"days in transit",null),e(N,()=>i.carrier),S(m=>{var t=i.status,b=`width: ${a?.progress}%; background: var(--md-sys-color-primary)`;return t!==m.e&&z(l,"data-status",m.e=t),m.t=re(M,b,m.t),m},{e:void 0,t:void 0}),l})()},he=({tracking:i})=>{const a=p.getStatusInfo(i.status),d=Ie.sortObj(i.timeline,"timestamp",0);return(()=>{var l=Le(),o=l.firstChild,n=o.firstChild;n.firstChild;var u=n.nextSibling,c=u.firstChild,$=c.nextSibling,g=$.firstChild,j=g.nextSibling,y=o.nextSibling,D=y.firstChild,h=D.firstChild,I=h.nextSibling,A=I.firstChild,C=A.firstChild,f=C.firstChild,K=f.nextSibling,w=C.nextSibling,E=w.firstChild,x=E.nextSibling,P=w.nextSibling,L=P.firstChild,B=L.nextSibling,M=P.nextSibling,F=M.firstChild,_=F.nextSibling,R=y.nextSibling,N=R.firstChild,m=N.nextSibling;return n.$$click=()=>X(null),e(n,()=>s("tracking.back")||"Back",null),e(c,()=>i.trackingNumber),e(g,()=>a.icon),e(j,()=>s(`tracking.statuses.${i.status}`)||i.status),e(h,()=>s("tracking.shipmentDetails")||"Shipment Details"),e(f,()=>s("tracking.destination")||"Destination"),e(K,()=>i.destination),e(E,()=>s("tracking.type")||"Type"),e(x,()=>i?.shipmentType),e(L,()=>s("tracking.carrier")||"Carrier"),e(B,()=>i.carrier),e(F,()=>s("tracking.estimated")||"Estimated Delivery"),e(_,()=>i.actualDelivery||i.estimatedDelivery),e(I,v(O,{get when(){return p.hasDeliveryProof(i)},get fallback(){return Be()},get children(){var t=Ee();return t.$$click=()=>U(!0),t.addEventListener("error",ge),t.addEventListener("load",ve),S(()=>z(t,"src",i?.deliveryProofBlob)),t}}),null),e(N,()=>s("tracking.timeline")||"Tracking Timeline"),e(m,v(ne,{each:d,children:(t,b)=>{const T=p.getStatusInfo(t.status),V=b()===d.length-1;return(()=>{var q=Fe(),W=q.firstChild,se=W.firstChild,fe=W.nextSibling,te=fe.firstChild,le=te.firstChild,_e=le.nextSibling,ae=te.nextSibling,be=ae.nextSibling;return e(se,()=>T?.icon),e(W,!V&&Ne(),null),e(le,()=>s(`tracking.statuses.${t?.status}`)||t.status),e(_e,()=>p.formatDate(t?.timestamp)),e(ae,()=>t?.location),e(be,()=>t?.description),S(ke=>re(se,`background: ${T?.color}`,ke)),q})()}})),e(l,v(O,{get when(){return oe()},get children(){var t=Pe(),b=t.firstChild,T=b.firstChild,V=T.nextSibling;return t.$$click=()=>U(!1),b.$$click=q=>q.stopPropagation(),T.$$click=()=>U(!1),S(()=>z(V,"src",i?.deliveryProofBlob)),t}}),null),l})()};return(()=>{var i=Ue();return e(i,v(O,{get when(){return!J()},get fallback(){return v(he,{get tracking(){return J()}})},get children(){return[(()=>{var a=qe(),d=a.firstChild,l=d.nextSibling;return e(d,()=>s("tracking.title")||"track shipments"),e(l,()=>s("tracking.subtitle")||"monitor your packages in real-time"),a})(),(()=>{var a=ze(),d=a.firstChild,l=d.firstChild,o=l.firstChild,n=o.nextSibling,u=n.nextSibling;return n.addEventListener("keypress",pe),n.$$input=c=>G(c.target.value),u.$$click=ie,e(u,()=>s("tracking.track")||"Track"),S(c=>{var $=s("tracking.searchPlaceholder")||"Enter tracking number or shipment ID...",g=!Q().trim();return $!==c.e&&z(n,"placeholder",c.e=$),g!==c.t&&(u.disabled=c.t=g),c},{e:void 0,t:void 0}),S(()=>n.value=Q()),a})(),(()=>{var a=Qe(),d=a.firstChild;return e(d,()=>s("tracking.recentShipments")||"recent shipments"),e(a,v(O,{get when(){return Y().length>0},get fallback(){return(()=>{var l=je(),o=l.firstChild,n=o.nextSibling,u=n.nextSibling;return e(n,()=>s("tracking.noShipments")||"no shipments found"),e(u,()=>s("tracking.noShipmentsSubtitle")||"try a different tracking number or check your recent orders"),l})()},get children(){var l=Oe();return e(l,v(ne,{get each(){return Y()},children:o=>v($e,{tracking:o})})),l}}),null),a})()]}})),i})()}De(["click","input"]);function He(){return v(Ae,{})}export{He as default};

import{$ as se,r as qi,v as si,w as Ie,c as B,h as Ei,m as Fi,l as Q,x as Di,b as g,t as N,i as t,F as ee,d as x,j as z,S as v,n as we,y as Se,z as Ce,e as Ii,k as Ti}from"./index-Co3IOg7R.js";import{s as xe}from"./shipping-BOhOEASY.js";const Te=Symbol("store-raw"),ce=Symbol("store-node"),V=Symbol("store-has"),di=Symbol("store-self");function gi(i){let e=i[se];if(!e&&(Object.defineProperty(i,se,{value:e=new Proxy(i,zi)}),!Array.isArray(i))){const r=Object.keys(i),n=Object.getOwnPropertyDescriptors(i);for(let d=0,o=r.length;d<o;d++){const p=r[d];n[p].get&&Object.defineProperty(i,p,{enumerable:n[p].enumerable,get:n[p].get.bind(e)})}}return e}function Ne(i){let e;return i!=null&&typeof i=="object"&&(i[se]||!(e=Object.getPrototypeOf(i))||e===Object.prototype||Array.isArray(i))}function fe(i,e=new Set){let r,n,d,o;if(r=i!=null&&i[Te])return r;if(!Ne(i)||e.has(i))return i;if(Array.isArray(i)){Object.isFrozen(i)?i=i.slice(0):e.add(i);for(let p=0,m=i.length;p<m;p++)d=i[p],(n=fe(d,e))!==d&&(i[p]=n)}else{Object.isFrozen(i)?i=Object.assign({},i):e.add(i);const p=Object.keys(i),m=Object.getOwnPropertyDescriptors(i);for(let $=0,X=p.length;$<X;$++)o=p[$],!m[o].get&&(d=i[o],(n=fe(d,e))!==d&&(i[o]=n))}return i}function ke(i,e){let r=i[e];return r||Object.defineProperty(i,e,{value:r=Object.create(null)}),r}function me(i,e,r){if(i[e])return i[e];const[n,d]=B(r,{equals:!1,internal:!0});return n.$=d,i[e]=n}function Wi(i,e){const r=Reflect.getOwnPropertyDescriptor(i,e);return!r||r.get||!r.configurable||e===se||e===ce||(delete r.value,delete r.writable,r.get=()=>i[se][e]),r}function pi(i){Ie()&&me(ke(i,ce),di)()}function Ri(i){return pi(i),Reflect.ownKeys(i)}const zi={get(i,e,r){if(e===Te)return i;if(e===se)return r;if(e===si)return pi(i),r;const n=ke(i,ce),d=n[e];let o=d?d():i[e];if(e===ce||e===V||e==="__proto__")return o;if(!d){const p=Object.getOwnPropertyDescriptor(i,e);Ie()&&(typeof o!="function"||i.hasOwnProperty(e))&&!(p&&p.get)&&(o=me(n,e,o)())}return Ne(o)?gi(o):o},has(i,e){return e===Te||e===se||e===si||e===ce||e===V||e==="__proto__"?!0:(Ie()&&me(ke(i,V),e)(),e in i)},set(){return!0},deleteProperty(){return!0},ownKeys:Ri,getOwnPropertyDescriptor:Wi};function Oe(i,e,r,n=!1){if(!n&&i[e]===r)return;const d=i[e],o=i.length;r===void 0?(delete i[e],i[V]&&i[V][e]&&d!==void 0&&i[V][e].$()):(i[e]=r,i[V]&&i[V][e]&&d===void 0&&i[V][e].$());let p=ke(i,ce),m;if((m=me(p,e,d))&&m.$(()=>r),Array.isArray(i)&&i.length!==o){for(let $=i.length;$<o;$++)(m=p[$])&&m.$();(m=me(p,"length",o))&&m.$(i.length)}(m=p[di])&&m.$()}function ui(i,e){const r=Object.keys(e);for(let n=0;n<r.length;n+=1){const d=r[n];Oe(i,d,e[d])}}function Mi(i,e){if(typeof e=="function"&&(e=e(i)),e=fe(e),Array.isArray(e)){if(i===e)return;let r=0,n=e.length;for(;r<n;r++){const d=e[r];i[r]!==d&&Oe(i,r,d)}Oe(i,"length",n)}else ui(i,e)}function he(i,e,r=[]){let n,d=i;if(e.length>1){n=e.shift();const p=typeof n,m=Array.isArray(i);if(Array.isArray(n)){for(let $=0;$<n.length;$++)he(i,[n[$]].concat(e),r);return}else if(m&&p==="function"){for(let $=0;$<i.length;$++)n(i[$],$)&&he(i,[$].concat(e),r);return}else if(m&&p==="object"){const{from:$=0,to:X=i.length-1,by:de=1}=n;for(let ie=$;ie<=X;ie+=de)he(i,[ie].concat(e),r);return}else if(e.length>1){he(i[n],e,[n].concat(r));return}d=i[n],r=[n].concat(r)}let o=e[0];typeof o=="function"&&(o=o(d,r),o===d)||n===void 0&&o==null||(o=fe(o),n===void 0||Ne(d)&&Ne(o)&&!Array.isArray(o)?ui(d,o):Oe(i,n,o))}function De(...[i,e]){const r=fe(i||{}),n=Array.isArray(r),d=gi(r);function o(...p){qi(()=>{n&&p.length===1?Mi(r,p[0]):he(r,p)})}return[d,o]}const Ki=[{id:"box-22-sea",type:"sea",weight:22,name:"22 lbs caja - Maritimo",price:54,duration:"45-65 days",icon:"🚢",description:"economical shipping for non-urgent items",features:["tracking included","insurance up to $500","eco-friendly option"]},{id:"box-44-sea",type:"sea",weight:44,name:"44 lbs caja - Maritimo",price:98,duration:"45-65 days",icon:"🚢",description:"best value for larger shipments",features:["tracking included","insurance up to $800","eco-friendly option"]},{id:"box-air",type:"air",weight:90,name:"hasta 90 lbs - Aereo",price:199,pricePerPound:3.98,duration:"7-20 days",icon:"✈️",description:"premium service for urgent large items",features:["priority handling","white glove service","insurance up to $2000"]}],Bi=[{id:"electronics",name:"electronicos",icon:"📱",restrictions:["no liquids","original packaging preferred","anti-static protection"],insurance:"cobertura completa disponible",modifier:1.2,typical_weight:"5-15 lbs per item"},{id:"clothing",name:"clothing & textiles",icon:"👕",restrictions:["clean and dry items only","no stains or odors"],insurance:"standard coverage",modifier:1,typical_weight:"2-8 lbs per garment"},{id:"books",name:"books & documents",icon:"📚",restrictions:["no food stains","protective wrapping recommended"],insurance:"standard coverage",modifier:.9,typical_weight:"1-3 lbs per book"},{id:"household",name:"household items",icon:"🏠",restrictions:["no fragile glass","no liquids or perishables"],insurance:"basic coverage",modifier:1.1,typical_weight:"3-12 lbs per item"},{id:"gifts",name:"gifts & personal",icon:"🎁",restrictions:["no restricted items","declare value over $100"],insurance:"enhanced coverage available",modifier:1.05,typical_weight:"1-10 lbs per gift"},{id:"toys",name:"toys & games",icon:"🧸",restrictions:["no small parts for children under 3","no batteries in electronic toys"],insurance:"standard coverage",modifier:1,typical_weight:"0.5-5 lbs per toy"},{id:"sports",name:"sports equipment",icon:"⚽",restrictions:["deflate balls and inflatables","no sharp objects"],insurance:"basic coverage",modifier:1.15,typical_weight:"2-20 lbs per item"},{id:"beauty",name:"beauty & cosmetics",icon:"💄",restrictions:["no liquids over 3.4oz","sealed containers only","no aerosols"],insurance:"standard coverage",modifier:1.1,typical_weight:"0.2-2 lbs per item"},{id:"food",name:"food & snacks",icon:"🍪",restrictions:["non-perishable only","factory sealed packages","no homemade items"],insurance:"basic coverage",modifier:.95,typical_weight:"0.5-5 lbs per package"},{id:"automotive",name:"automotive parts",icon:"🔧",restrictions:["no fluids or oils","clean parts only","small parts secure"],insurance:"enhanced coverage",modifier:1.25,typical_weight:"1-25 lbs per part"},{id:"art",name:"art & crafts",icon:"🎨",restrictions:["protective packaging required","no wet paints","fragile items extra care"],insurance:"cobertura completa disponible",modifier:1.3,typical_weight:"0.5-15 lbs per item"},{id:"musical",name:"musical instruments",icon:"🎸",restrictions:["hard case recommended","no loose strings","humidity protection"],insurance:"cobertura completa disponible",modifier:1.4,typical_weight:"2-30 lbs per instrument"},{id:"tools",name:"tools & hardware",icon:"🔨",restrictions:["no sharp edges exposed","clean and dry","secure packaging"],insurance:"basic coverage",modifier:1.2,typical_weight:"1-15 lbs per tool"},{id:"jewelry",name:"jewelry & accessories",icon:"💎",restrictions:["high-value items require insurance","secure packaging mandatory"],insurance:"premium coverage required",modifier:1.5,typical_weight:"0.1-2 lbs per piece"},{id:"medical",name:"medical supplies",icon:"🩺",restrictions:["non-prescription only","original packaging","no controlled substances"],insurance:"standard coverage",modifier:1.35,typical_weight:"0.5-8 lbs per item"},{id:"office",name:"office supplies",icon:"📎",restrictions:["no liquids","bundled securely","no sharp objects loose"],insurance:"basic coverage",modifier:.95,typical_weight:"1-10 lbs per box"},{id:"pet",name:"pet supplies",icon:"🐕",restrictions:["no food or treats","clean items only","no live animals"],insurance:"standard coverage",modifier:1.1,typical_weight:"0.5-12 lbs per item"},{id:"garden",name:"garden & outdoor",icon:"🌱",restrictions:["no soil or seeds","clean tools only","no plant materials"],insurance:"basic coverage",modifier:1.05,typical_weight:"1-18 lbs per item"},{id:"antiques",name:"antiques & collectibles",icon:"🏺",restrictions:["professional packaging required","full insurance mandatory","fragile handling"],insurance:"premium coverage required",modifier:1.6,typical_weight:"1-20 lbs per item"},{id:"other",name:"other items",icon:"📦",restrictions:["contact support for guidance","special handling may apply"],insurance:"coverage varies",modifier:1.15,typical_weight:"varies by item"}],Ui={name:"",phoneNumberS:"",dob:"",shipping:""},Zi={firstName:"",name:"",lastName:"",lastName2:"",middleName:"",email:"",phoneNumber:"",altPhoneNumber:"",cid:"",ybstreetNo:"",ybstreet:"",ybbetwen1:"",ybbetwen2:"",ybapt:"",ybreparto:"",ybcity:"",ybestate:""};var li=N("<div class=cargo-restrictions>"),Hi=N('<div class="cargo-option selected adjust-one"><span class=cargo-icon></span><h4 class=cargo-name></h4><p class=cargo-insurance></p><div class=cargo-input-section><h4 class=cargo-input-title></h4><div class=cargo-input-form><div class=cargo-input-group><input type=number class=cargo-weight-input min=0.1 step=0.1><button class=btn-add-cargo>'),Ji=N("<span class=weight-warning>⚠️ "),Qi=N("<span class=weight-ok>✓ "),Vi=N("<div class=cargo-items-list><div class=cargo-list-header><h4 class=cargo-list-title></h4><button class=btn-clear-cargo></button></div><div class=cargo-items></div><div class=cargo-weight-summary><div class=weight-breakdown><span>"),Xi=N("<div class=cargo-selection><h3 class=subsection-title></h3><div class=cargo-grid>"),re=N("<span class=error-message>"),Yi=N("<div class=form-group><label for=city class=form-label> *</label><select id=city name=city><option value>Select a city"),Gi=N("<div class=shipping-details><h3 class=subsection-title></h3><div class=details-form><div class=form-row><div class=form-group><label for=cid class=form-label> *</label><input type=tel id=cid name=cid></div><div class=form-group><label for=phone class=form-label> *</label><input type=tel id=phone name=phone></div></div><div class=form-row><div class=form-group><label for=firstName class=form-label> *</label><input type=text id=firstName name=firstName></div><div class=form-group><label for=lastName class=form-label> *</label><input type=text id=lastName name=lastName></div></div><div class=form-row><div class=form-group><label for=address class=form-label> *</label><input type=text id=address name=address></div><div class=form-group-short><div class=form-group><label class=form-label></label><input type=text id=addressNo name=addressNo></div><div class=form-group s><label class=form-label></label><input type=text id=apt name=apt></div></div></div><div class=form-row><div class=form-group><label for=state class=form-label> *</label><select id=state name=state><option value>Select a state</option></select></div></div></div><div class=form-group><label class=form-label></label><textarea class=form-textarea>"),et=N("<div class=price-line><span></span><span>$"),it=N('<div class="price-line savings"><span></span><span class=price-decrease>-$'),tt=N('<div class="price-line warning"><span>⚠️ </span><span class=price-increase>'),nt=N('<div class=price-summary><div class=summary-header><h4></h4><div class=quote-details><span class=actual-weight>📏 <!> lbs</span><span class=estimated-delivery>📅 </span></div></div><div class=price-breakdown><div class=price-line><span></span><span>$</span></div><div class="price-line total"><span></span><span>$</span></div></div><button class="btn-primary add-shipping-btn">'),rt=N("<div class=shipping-section><div class=section-header><h2 class=section-title></h2><p class=section-subtitle></p></div><div class=shipping-options><h3 class=subsection-title></h3><div class=options-grid>"),st=N("<div><div class=option-header><span class=option-icon></span><div><h4 class=option-name></h4><p class=option-description></p></div><span class=option-price>$</span></div><div class=option-details><div class=option-duration>⏱️ </div><div class=option-weight-info>📦 <!> <!> lbs • $<!>/lb</div><div class=option-features>"),lt=N("<span class=feature-tag>✓ "),ai=N("<span class=restriction-item>• "),at=N("<div><span class=cargo-icon></span><h4 class=cargo-name></h4><p class=cargo-insurance>"),ot=N("<div class=cargo-item><span class=cargo-item-icon></span><div class=cargo-item-info><span class=cargo-item-type></span><span class=cargo-item-weight> lbs</span></div><button class=btn-remove-cargo>×"),oi=N("<option>");const ci={firstName:"",lastName:"",email:"",cid:"",phone:"",address:"",addressNo:"",between:"",rpto:"",apt:"",city:"",state:"",zipCode:"",destination:""};function ct({onAddShipping:i}){const{t:e,currentLanguage:r}=Ei(),[n,d]=B(null),[o,p]=B(null),[m,$]=B([]),[X,de]=B(""),[ie,hi]=B(""),[dt,fi]=B(""),[We,Re]=B("");De({frm:{...Ui}}),De({frm:{...Zi}});const[ze,Me]=De({list:{}}),{getCidData:mi,userInfo:Ke}=Fi(),Be=()=>{const s=o(),l=parseFloat(X());if(!s||!l||l<=0)return;const c={id:Date.now(),type:s,cargoId:s.id,weight:l,description:`${s.name} - ${l} lbs`};$(k=>[...k,c]),de(""),p(null)},$i=s=>{$(l=>l.filter(c=>c.id!==s))},bi=()=>{$([])},le=Q(()=>m().reduce((s,l)=>s+parseFloat(l.weight||0),0)),Ae=Q(()=>{const s=le();return parseFloat(ie())||s||n()?.weight||0}),vi=Q(()=>Ki.map((s,l)=>({...s,name:e(`shippingOptions.${l}.name`),description:e(`shippingOptions.${l}.description`),features:e(`shippingOptions.${l}.features`)}))),_i=Q(()=>Bi.map(s=>({...s,name:e(`cargoTypes.${s.id}`)}))),yi=Q(()=>m().map(s=>({...s,name:e(`cargoTypes.${s.cargoId}`)}))),D=Q(()=>{const s=n(),l=m(),c=Ae();return!s||!l?null:xe.calculateShipping(s,c)}),wi=Q(()=>{const s=n(),l=m(),c=Ae();return!s||!l?[]:xe.validateShipment(s,c).errors}),Ue=Q(()=>n()&&m()&&wi().length===0&&ki()),Si=()=>{if(!Ue()||!Ni())return;const s={id:Date.now(),option:n(),cargoType:o(),cargoItems:m(),weight:Ae(),totalCargoWeight:le(),customWeight:ie(),notes:We(),calculation:D(),createdAt:new Date().toISOString(),customer:xe.aisleJson(T()),userInfo:Ke()};console.log("shipment",s),i(s),d(null),p(null),$([]),de(""),hi(""),fi(""),Re(""),M(ci)},[T,M]=B(ci),[b,$e]=B({}),[Le,Pe]=B({}),be={firstName:{required:!0,minLength:2,pattern:/^[a-zA-Z\s'-]+$/,message:e("validation.name")},lastName:{required:!0,minLength:2,pattern:/^[a-zA-Z\s'-]+$/,message:e("validation.name")},cid:{required:!0,pattern:/^[0-9]{2}[0-1]{1}[0-9]{1}[0-3]{1}[0-9]{6}/,minLength:11,maxLength:11,message:e("validation.cid")},phone:{required:!0,pattern:/^[\d\s\-\+\(\)]+$/,minLength:8,message:e("validation.phone")},address:{required:!0,minLength:5,message:e("validation.address")},city:{required:!0,message:e("validation.city")},state:{required:!0,message:e("validation.state")}},ge=(s,l)=>{const c=be[s];return c?c.required&&!l?.trim()?e("validation.require",{field:s.charAt(0).toUpperCase()+s.slice(1)}):c.minLength&&l.length<c.minLength?e("validation.minlength",{minLength:c.minLength}):c.maxLength&&l.length>c.maxLength?e("validation.maxlength",{maxLength:c.maxLength}):c.pattern&&!c.pattern.test(l)?c.message:"":""},Ci=()=>{const s={},l=T();return Object.keys(be).forEach(c=>{const k=ge(c,l[c]||"");k&&(s[c]=k)}),$e(s),Object.keys(s).length===0},Y=s=>{const{name:l,value:c}=s.target;if(M(k=>({...k,[l]:c})),l==="state"&&Me("list",Ce()?.provincias?.[c*1-1]),Le()[l]){const k=ge(l,c);$e(A=>({...A,[l]:k}))}},xi=async s=>{const{name:l,value:c}=s.target;if(M(k=>({...k,[l]:c})),Le[l]||Pe(k=>({...k,[l]:!0})),Le()[l]){const k=ge(l,c);if(!k){let A=await mi(c);A.phone&&(M(L=>({...L,firstName:A.firstName})),M(L=>({...L,lastName:A.lastName})),M(L=>({...L,phone:A.phone})),M(L=>({...L,address:A.address})),M(L=>({...L,addressNo:A.addressNo})),Ce()?.provincias?.map(L=>{L.label===A.state&&(Me("list",L),M(te=>({...te,state:L.id+""})),L.cities?.map(te=>{te.label===A.city&&(M(u=>({...u,city:te.id+""})),M(u=>({...u,destination:te.label+", "+L.label})))}))}))}$e(A=>({...A,[l]:k}))}},H=s=>{const{name:l,value:c}=s.target;Pe(A=>({...A,[l]:!0}));const k=ge(l,c);$e(A=>({...A,[l]:k}))},Ni=s=>{const l={};return Object.keys(be).forEach(c=>{l[c]=!0}),Pe(l),Ci()?(console.log("Form is valid! Submitting...",T()),!0):(console.log("Form has errors",b()),!1)},ki=Q(()=>{const s=T();return Object.keys(be).every(l=>!ge(l,s[l]||""))});return Di(()=>{}),g(v,{get when(){return Ke()?.email},get children(){var s=rt(),l=s.firstChild,c=l.firstChild,k=c.nextSibling,A=l.nextSibling,L=A.firstChild,te=L.nextSibling;return t(c,()=>e("shipping.title")),t(k,()=>e("shipping.subtitle")),t(L,()=>e("shipping.packageMethod")),t(te,g(ee,{get each(){return vi()},children:u=>(()=>{var E=st(),W=E.firstChild,y=W.firstChild,_=y.nextSibling,P=_.firstChild,I=P.nextSibling,j=_.nextSibling;j.firstChild;var w=W.nextSibling,S=w.firstChild;S.firstChild;var h=S.nextSibling,f=h.firstChild,C=f.nextSibling,K=C.nextSibling,R=K.nextSibling,U=R.nextSibling,O=U.nextSibling;O.nextSibling;var F=h.nextSibling;return E.$$click=()=>d(u),t(y,()=>u.icon),t(P,()=>u.name),t(I,()=>u.description),t(j,()=>u.price,null),t(S,()=>u.duration,null),t(h,()=>e("shipping.upTo"),C),t(h,()=>u.weight,R),t(h,()=>(u.price/u.weight).toFixed(2),O),t(F,g(ee,{get each(){return u.features},children:q=>(()=>{var ne=lt();return ne.firstChild,t(ne,q,null),ne})()})),x(()=>z(E,`shipping-option ${n()?.id===u.id?"selected":""}`)),E})()})),t(s,g(v,{get when(){return o()?.id},get children(){var u=Hi(),E=u.firstChild,W=E.nextSibling,y=W.nextSibling,_=y.nextSibling,P=_.firstChild,I=P.nextSibling,j=I.firstChild,w=j.firstChild,S=w.nextSibling;return t(E,()=>o().icon),t(W,()=>o().name),t(y,()=>e(`cargoInsurance.${o().id}`)),t(u,g(v,{get when(){return o().restrictions.length>0},get children(){var h=li();return t(h,g(ee,{get each(){return e(`cargoRestrictions.${o().id}`)},children:f=>(()=>{var C=ai();return C.firstChild,t(C,f,null),C})()})),h}}),_),t(P,()=>e("shipping.addToShipment")),w.addEventListener("keypress",h=>h.key==="Enter"&&Be()),w.$$input=h=>de(h.target.value),S.$$click=Be,t(S,()=>e("shipping.addItem")),x(h=>{var f=e("shipping.weightPlaceholder"),C=!X()||parseFloat(X())<=0;return f!==h.e&&we(w,"placeholder",h.e=f),C!==h.t&&(S.disabled=h.t=C),h},{e:void 0,t:void 0}),x(()=>w.value=X()),u}}),null),t(s,g(v,{get when(){return Se(()=>!!n())()&&!o()?.id},get children(){var u=Xi(),E=u.firstChild,W=E.nextSibling;return t(E,()=>e("shipping.whatShipping")),t(W,g(ee,{get each(){return _i()},children:y=>(()=>{var _=at(),P=_.firstChild,I=P.nextSibling,j=I.nextSibling;return _.$$click=()=>p(y),t(P,()=>y.icon),t(I,()=>y.name),t(j,()=>e(`cargoInsurance.${y.id}`)),t(_,g(v,{get when(){return y.restrictions.length>0},get children(){var w=li();return t(w,g(ee,{get each(){return e(`cargoRestrictions.${y.id}`)},children:S=>(()=>{var h=ai();return h.firstChild,t(h,S,null),h})()})),w}}),null),x(()=>z(_,`cargo-option ${o()?.id===y.id?"selected":""}`)),_})()})),t(u,g(v,{get when(){return n()},get children(){return g(v,{get when(){return m().length>0},get children(){var y=Vi(),_=y.firstChild,P=_.firstChild,I=P.nextSibling,j=_.nextSibling,w=j.nextSibling,S=w.firstChild,h=S.firstChild;return t(P,()=>e("shipping.itemsInShipment",{count:m().length,weight:le()})),I.$$click=bi,t(I,()=>e("shipping.clearAll")),t(j,g(ee,{get each(){return yi()},children:f=>(()=>{var C=ot(),K=C.firstChild,R=K.nextSibling,U=R.firstChild,O=U.nextSibling,F=O.firstChild,q=R.nextSibling;return t(K,()=>f.type.icon),t(U,()=>f.name),t(O,()=>f.weight,F),q.$$click=()=>$i(f.id),C})()})),t(h,()=>e("shipping.totalCargoWeight",{weight:le()})),t(S,g(v,{get when(){return Se(()=>!!n())()&&le()>n().weight},get children(){var f=Ji();return f.firstChild,t(f,()=>e("shipping.exceedsLimit",{limit:n().weight}),null),f}}),null),t(S,g(v,{get when(){return Se(()=>!!n())()&&le()<=n().weight},get children(){var f=Qi();return f.firstChild,t(f,()=>e("shipping.fitsBox",{limit:n().weight}),null),f}}),null),y}})}}),null),u}}),null),t(s,g(v,{get when(){return Se(()=>!!n())()&&(m().length>0||ie())},get children(){return[(()=>{var u=Gi(),E=u.firstChild,W=E.nextSibling,y=W.firstChild,_=y.firstChild,P=_.firstChild,I=P.firstChild,j=P.nextSibling,w=_.nextSibling,S=w.firstChild,h=S.firstChild,f=S.nextSibling,C=y.nextSibling,K=C.firstChild,R=K.firstChild,U=R.firstChild,O=R.nextSibling,F=K.nextSibling,q=F.firstChild,ne=q.firstChild,ve=q.nextSibling,Ze=C.nextSibling,je=Ze.firstChild,qe=je.firstChild,Oi=qe.firstChild,_e=qe.nextSibling,Ai=je.nextSibling,He=Ai.firstChild,Je=He.firstChild,pe=Je.nextSibling,Li=He.nextSibling,Qe=Li.firstChild,ue=Qe.nextSibling,Ve=Ze.nextSibling,Xe=Ve.firstChild,Ee=Xe.firstChild,Pi=Ee.firstChild,ae=Ee.nextSibling;ae.firstChild;var ji=W.nextSibling,Ye=ji.firstChild,Fe=Ye.nextSibling;return t(E,()=>e("shipping.shippingDetails")),t(P,()=>e("shipping.cid"),I),j.addEventListener("blur",H),j.$$input=xi,t(_,g(v,{get when(){return b().cid},get children(){var a=re();return t(a,()=>b().cid),a}}),null),t(S,()=>e("shipping.phoneNumber"),h),f.addEventListener("blur",H),f.$$input=Y,t(w,g(v,{get when(){return b().phone},get children(){var a=re();return t(a,()=>b().phone),a}}),null),t(R,()=>e("shipping.name"),U),O.addEventListener("blur",H),O.$$input=Y,t(K,g(v,{get when(){return b().firstName},get children(){var a=re();return t(a,()=>b().firstName),a}}),null),t(q,()=>e("shipping.lastName"),ne),ve.addEventListener("blur",H),ve.$$input=Y,t(F,g(v,{get when(){return b().lastName},get children(){var a=re();return t(a,()=>b().lastName),a}}),null),t(qe,()=>e("shipping.street"),Oi),_e.addEventListener("blur",H),_e.$$input=Y,t(je,g(v,{get when(){return b().address},get children(){var a=re();return t(a,()=>b().address),a}}),null),t(Je,()=>e("shipping.streetNo")),pe.addEventListener("blur",H),pe.$$input=Y,t(Qe,()=>e("shipping.apt")),ue.addEventListener("blur",H),ue.$$input=Y,t(Ee,()=>e("shipping.estate"),Pi),ae.addEventListener("blur",H),ae.$$input=Y,t(ae,g(v,{get when(){return Ce()?.provincias},get children(){return g(ee,{get each(){return Ce()?.provincias},children:a=>(()=>{var Z=oi();return t(Z,()=>a.label),x(()=>Z.value=a.id),Z})()})}}),null),t(Xe,g(v,{get when(){return b().state},get children(){var a=re();return t(a,()=>b().state),a}}),null),t(Ve,g(v,{get when(){return ze?.list?.id},get children(){var a=Yi(),Z=a.firstChild,ye=Z.firstChild,J=Z.nextSibling;return J.firstChild,t(Z,()=>e("shipping.city"),ye),J.addEventListener("blur",H),J.$$input=Y,t(J,g(ee,{get each(){return ze?.list?.cities},children:G=>(()=>{var oe=oi();return t(oe,()=>G.label),x(()=>oe.value=G.id),oe})()}),null),t(a,g(v,{get when(){return b().city},get children(){var G=re();return t(G,()=>b().city),G}}),null),x(()=>z(J,` form-input ${b().city?"error":""}`)),x(()=>J.value=T().city),a}}),null),t(Ye,()=>e("shipping.specialNotes")),Fe.$$input=a=>Re(a.target.value),x(a=>{var Z=` form-input ${b().cid?"error":""}`,ye=` form-input ${b().phone?"error":""}`,J=` form-input ${b().firstName?"error":""}`,G=` form-input ${b().lastName?"error":""}`,oe=` form-input ${b().address?"error":""}`,Ge=e("shipping.streetNo")||"no",ei=` form-input ${b().addressNo?"error":""}`,ii=e("shipping.apt")||"no",ti=` form-input ${b().apt?"error":""}`,ni=` form-input ${b().state?"error":""}`,ri=e("shipping.notesPlaceholder");return Z!==a.e&&z(j,a.e=Z),ye!==a.t&&z(f,a.t=ye),J!==a.a&&z(O,a.a=J),G!==a.o&&z(ve,a.o=G),oe!==a.i&&z(_e,a.i=oe),Ge!==a.n&&we(pe,"placeholder",a.n=Ge),ei!==a.s&&z(pe,a.s=ei),ii!==a.h&&we(ue,"placeholder",a.h=ii),ti!==a.r&&z(ue,a.r=ti),ni!==a.d&&z(ae,a.d=ni),ri!==a.l&&we(Fe,"placeholder",a.l=ri),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),x(()=>j.value=T().cid),x(()=>f.value=T().phone),x(()=>O.value=T().firstName),x(()=>ve.value=T().lastName),x(()=>_e.value=T().address),x(()=>pe.value=T().addressNo),x(()=>ue.value=T().apt),x(()=>ae.value=T().state),x(()=>Fe.value=We()),u})(),g(v,{get when(){return D()},get children(){var u=nt(),E=u.firstChild,W=E.firstChild,y=W.nextSibling,_=y.firstChild,P=_.firstChild,I=P.nextSibling;I.nextSibling;var j=_.nextSibling;j.firstChild;var w=E.nextSibling,S=w.firstChild,h=S.firstChild,f=h.nextSibling;f.firstChild;var C=S.nextSibling,K=C.firstChild,R=K.nextSibling;R.firstChild;var U=w.nextSibling;return t(W,()=>e("shipping.shippingQuote")),t(_,()=>D().weight,I),t(j,()=>xe.getDeliveryEstimate(n()),null),t(h,()=>e("shipping.baseRate",{weight:D().weight,rate:D().pricePerPound})),t(f,()=>D().basePrice,null),t(w,g(v,{get when(){return D().modifier!==1},get children(){var O=et(),F=O.firstChild,q=F.nextSibling,ne=q.firstChild;return t(F,()=>e("shipping.cargoAdjustment",{type:o().name})),t(q,()=>D().modifier>1?"+":"-",ne),t(q,()=>Math.abs(D().finalPrice-D().basePrice),null),x(()=>z(q,D().modifier>1?"price-increase":"price-decrease")),O}}),C),t(w,g(v,{get when(){return D().weight<n().weight},get children(){var O=it(),F=O.firstChild,q=F.nextSibling;return q.firstChild,t(F,()=>e("shipping.weightSavings",{weight:n().weight})),t(q,()=>n().price-D().basePrice,null),O}}),C),t(w,g(v,{get when(){return D().isOverweight},get children(){var O=tt(),F=O.firstChild;F.firstChild;var q=F.nextSibling;return t(F,()=>e("shipping.overweight"),null),t(q,()=>e("shipping.invalid")||"invalid"),O}}),C),t(K,()=>e("shipping.totalCost")),t(R,()=>D().finalPrice,null),U.$$click=Si,t(U,()=>e("shipping.addToCart")),x(()=>U.disabled=!Ue()),u}})]}}),null),s}})}Ii(["input","click"]);function ut(){return Ti(),g(ct,{onAddShipping:async e=>{try{const r={productId:`shipping-${e?.option?.type}-${e.id}`,name:`${e.customer.firstName} to ${e.customer?.destination}`,price:e.calculation.finalPrice,quantity:1,category:"Shipping",type:"shipping",shipmentDetails:e};console.log(r)}catch(r){console.error("Failed to add shipping to cart:",r)}}})}export{ut as default};

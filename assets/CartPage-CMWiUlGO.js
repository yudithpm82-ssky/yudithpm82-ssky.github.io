import{g as v,k as F,c as s,o as k,b as f}from"./index-Bz8z0Ct-.js";import{Cart as q}from"./Cart-Cyo0C6bu.js";function U(){const u=v(),{cart:c,loadCart:i,removeFromCart:d,updateCartItem:l,loading:m,error:C}=F(),[h,y]=s(0),[p,g]=s(0);k(async()=>{try{await i(),o()}catch(t){console.error("Failed to load cart:",t)}});const o=()=>{const t=c().items||[],a=t.reduce((n,e)=>n+e.price*e.quantity,0),r=t.reduce((n,e)=>n+e.quantity,0);y(a),g(r)};return f(q,{cart:c,cartTotal:h,cartItemCount:p,onRemoveFromCart:async t=>{try{await d(t),o()}catch(a){console.error("Failed to remove item:",a)}},onUpdateQuantity:async(t,a)=>{try{await l(t,{quantity:a}),o()}catch(r){console.error("Failed to update quantity:",r)}},onCheckout:()=>{u("/checkout")},get loading(){return m()},get error(){return C()}})}export{U as default};

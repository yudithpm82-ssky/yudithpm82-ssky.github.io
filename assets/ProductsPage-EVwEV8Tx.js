import{u as i,a as h,c as y,o as P,b as m}from"./index-Db9pVCQw.js";import{P as p}from"./ProductGrid-B5Y7rQAp.js";function w(){const{products:e,loadProducts:t,searchProducts:c,loading:s,error:d}=i(),[r,n]=h(),[l,u]=y(r.category||"all");return P(async()=>{try{const a={};r.category&&(a.category=r.category),r.search}catch(a){console.error("Failed to load products:",a)}}),m(p,{products:e,productFilter:l,setProductFilter:async a=>{u(a);const o={...r};a==="all"?delete o.category:o.category=a,n(o);try{r.search?await c(r.search,{category:a!=="all"?a:void 0}):await t({category:a!=="all"?a:void 0})}catch(g){console.error("Failed to filter products:",g)}},onAddToCart:async a=>{console.log("Add to cart:",a)},get loading(){return s()},get error(){return d()}})}export{w as default};
